pipeline{
	agent any
	stages{
	stage('checkout'){
	steps{
	echo "Cloning repo"
	git url:"https://github.com/vaishnavikarra/Week-8-DJ.git",
	branch:'master'
	}
	}
	stage('Build'){
	steps{
	echo "Build Docker Image"
	bat "docker build -t webapplc."
	}
	}
	stage('Run'){
	steps{
	echo "Run application in Docker Container"
	bat "docker rm -f quizzical_ramanujan || exit 0"
	bat "docker run -d -p 5001:5001 --name quizzical_ramanujan webapplc"
	}
	}
	}
	post{
	Success{
	echo "Pipeline completed successfully!"
	}
	Failure{
	echo "Pipeline failed.Please check the logs"
	}
	
	}
}
